---
title Linux
---

## 文件操作

常见处理目录的命令如下：

- ls（英文全拼：list files）: 列出目录及文件名
- cd（英文全拼：change directory）：切换目录
- pwd（英文全拼：print work directory）：显示目前的目录
- mkdir（英文全拼：make directory）：创建一个新的目录
- rmdir（英文全拼：remove directory）：删除一个空的目录
- cp（英文全拼：copy file）: 复制文件或目录
- rm（英文全拼：remove）: 删除文件或目录
- mv（英文全拼：move file）: 移动文件与目录，或修改文件与目录的名称

### ls

列出目录文件，选项与参数：

- -a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)
- -d ：仅列出目录本身，而不是列出目录内的文件数据(常用)
- -l ：长数据串列出，包含文件的属性与权限等等数据；(常用)

例如将家目录下的所有文件列出来(含属性与隐藏档)

```js
[root@www ~]# ls -al ~
```

### cd

切换工作目录

语法：

```js
cd[相对路径或绝对路径];
```

```js
# 表示回到自己的家目录，亦即是 /root 这个目录
[root@www runoob]# cd ~

# 表示去到目前的上一级目录，亦即是 /root 的上一级目录的意思；
[root@www ~]# cd ..
```

### pwd

pwd 是 Print Working Directory 的缩写，也就是显示目前所在目录的命令。

```js
[root@www ~]# pwd [-P]
```

选项与参数：

- -P ：显示出确实的路径，而非使用连结 (link) 路径

### mkdir

创建新目录

语法：

```js
mkdir [-mp] 目录名称
```

选项与参数：

- -m ：配置文件的权限
- -p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来

### rmdir (删除空的目录)

语法：

```js
 rmdir [-p] 目录名称
```

选项与参数：

- -p ：连同上一级『空的』目录也一起删除

### cp

即拷贝文件和目录

语法：

```js
cp 目标文件 拷贝文件
```

用法如下：

```js
cp file file_copy --> file 是目标文件，file_copy 是拷贝出来的文件
cp file one --> 把 file 文件拷贝到 one 目录下，并且文件名依然为 file
cp file one/file_copy --> 把 file 文件拷贝到 one 目录下，文件名为file_copy
cp *.txt folder --> 把当前目录下所有 txt 文件拷贝到 folder 目录下
复制代码
```

常用参数如下：

- -r 递归的拷贝，常用来拷贝一整个目录

### rm (移除文件或目录)

语法：

```js
 rm [-fir] 文件或目录
```

选项与参数：

- -f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
- -i ：互动模式，在删除前会询问使用者是否动作
- -r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！

### mv (移动文件与目录，或修改名称)

语法：

```js
[root@www ~]# mv [-fiu] source destination
[root@www ~]# mv [options] source1 source2 source3 .... directory
```

选项与参数：

-f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
-i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
-u ：若目标文件已经存在，且 source 比较新，才会升级 (update)

### ln

Linux 文件的存储方式分为 3 个部分，文件名、文件内容以及权限，其中文件名的列表是存储在硬盘的其它地方和文件内容是分开存放的，每个文件名通过 inode 标识绑定到文件内容

Linux 下有两种链接类型：硬链接和软链接

### 硬链接

使链接的两个文件共享同样文件内容，就是同样的 inode ，一旦文件 1 和文件 2 之间有了硬链接，那么修改任何一个文件，修改的都是同一块内容

语法：

```js
# 创建 file2 为 file1 的硬链接
ln file1 file2
```

删除 file1 不会影响删除 file2，对于硬链接来说，删除任意一方的文件，共同指向的文件内容并不会从硬盘上删除

只有同时删除了两个文件后后，它们共同指向的文件内容才会消失。

### 软链接

类似 window 系统的快捷方式

使用方式：

```js
ln -s file1 file2
```

其实 file2 只是 file1 的一个快捷方式，它指向的是 file1 ，所以显示的是 file1 的内容，但其实 file2 的 inode 与 file1 并不相同

如果

删除了 file2 的话， file1 是不会受影响的，但如果删除 file1 的话， file2 就会变成死链接，因为指向的文件不见了

## 文件查看

常见的文件内容查看有如下：

- cat 由第一行开始显示文件内容
- less 一页一页的显示文件内容
- head 只看头几行
- tail 只看尾巴几行

### cat

由第一行开始显示文件内容

语法：

```js
cat[-AbEnTv];
```

常见的选项与参数如下：

- -b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
- -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同

### less

一页一页翻动，以下实例输出/etc/man.config 文件的内容：

```js
[root@www ~]# less /etc/man.config
#
# Generated automatically from man.conf.in by the
# configure script.
#
# man.conf from man-1.6d
....(中间省略)....
:   <== 这里可以等待你输入命令！
```

less 运行时可以输入的命令有：

- 空白键 ：向下翻动一页；
- [pagedown]：向下翻动一页；
- [pageup] ：向上翻动一页；
- /字串 ：向下搜寻『字串』的功能；
- ?字串 ：向上搜寻『字串』的功能；
- n ：重复前一个搜寻 (与 / 或 ? 有关！)
- N ：反向的重复前一个搜寻 (与 / 或 ? 有关！)
- q ：离开 less 这个程序

### head

取出文件前面几行

语法：

```js
head [-n number] 文件
```

选项与参数：

- -n ：后面接数字，代表显示几行的意思

```js
[root@www ~]# head /etc/man.config
```

### tail

取出文件后面几行

语法：

```js
tail [-n number] 文件
```

选项与参数：

- -n ：后面接数字，代表显示几行的意思
- -f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c 才会结束 tail 的侦测

## vim 文本编辑命令

### 使用

基本上 vi/vim 共分为三种模式，分别是：

- 命令模式（Command mode）
- 输入模式（Insert mode）
- 底线命令模式（Last line mode）

#### 命令模式

Vim 的默认模式，在这个模式下，你不能输入文本，但是可以让我们在文本间移动，删除一行文本，复制黏贴文本，跳转到指定行，撤销操作，等等

##### 移动光标

常用的命令如下：

- h 向左移动一个字符
- j 向下移动一个字符
- k 向上移动一个字符
- i 向右移动一个字符

或者使用方向键进行控制

如果想要向下移动 n 行，可通过使用 "nj" 或 "n↓" 的组合按键

##### 搜索

常见的命令如下：

- /word：向光标之下寻找一个名称为 word 的字符

- ?word：向光标之上寻找一个字符串名称为 word 的字符串

- n：代表重复前一个搜寻的动作，即再次执行上一次的操作

- N：反向进行前一个搜索动作

##### 删除、复制、粘贴

常用的命令如下：

- x：向后删除一个字符
- X：向前删除一个字符
- nc：n 为数字，连续向后删除 n 个字符
- dd：删除游标所在的那一整行
- d0：删除游标所在处，到该行的最前面一个字符
- d$删除游标所在处，到该行的最后一个字符
- ndd：除光标所在的向下 n 行
- yy：复制游标所在的那一行
- y0：复制光标所在的那个字符到该行行首的所有数据
- y$：复制光标所在的那个字符到该行行尾的所有数据
- p：已复制的数据在光标下一行贴上
- P：已复制的数据在光标上一行贴上
- nc：重复删除 n 行数据

#### 输入模式

命令模式通过输入大小写 i、a、o 可以切换到输入模式，如下：

- i：从目前光标所在处输入
- I：在目前所在行的第一个非空格符处开始输入
- a：从目前光标所在的下一个字符处开始输入
- A：从光标所在行的最后一个字符处开始输入
- o：在目前光标所在的下一行处输入新的一行
- O：目前光标所在的上一行处输入新的一行

输入模式我们熟悉的文本编辑器的模式，就是可以输入任何你想输入的内容

如果想从插入模式回到命令模式，使用按下键盘左上角的 ESC 键

#### 底线命令模式

这个模式下可以运行一些命令例如“退出”，“保存”，等动作，为了进入底线命令模式，首先要进入命令模式，再按下冒号键：

常见的命令如下：

- w：将编辑的数据写入硬盘档案中
- w!：若文件属性为『只读』时，强制写入该档案
- q：未修改，直接退出
- q!：修改过但不存储
- wq：储存后离开

## 用户管理
